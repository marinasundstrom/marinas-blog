<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    
    <title>Marina Sundström</title>
    
    <meta name="description" content="Personal blog of Marina Sundström."/>
    <meta name="keywords" content="Blog, Personal, Software Development"/>

    <base href="/"/>
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/app.css" rel="stylesheet"/>
    <link href="PersonalSite.styles.css" rel="stylesheet"/>

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png"/>
    <link rel="manifest" href="/site.webmanifest"/>
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/>
    <meta name="msapplication-TileColor" content="#da532c"/>
    <meta name="theme-color" content="#ffffff"/>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/styles/vs.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.0/highlight.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/highlightjs-cshtml-razor/dist/cshtml-razor.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.7.0/highlightjs-line-numbers.min.js"></script>

    <link rel="stylesheet" href="css/bootstrap/color-modes.css"/>

    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&amp;display=swap" rel="stylesheet"/>

    <script src="/js/scripts.js"></script>

    <style>
        .bd-placeholder-img {
          font-size: 1.125rem;
          text-anchor: middle;
          -webkit-user-select: none;
          -moz-user-select: none;
          user-select: none;
        }
  
        @media (min-width: 768px) {
          .bd-placeholder-img-lg {
            font-size: 3.5rem;
          }
        }
      </style>
    

<!-- %%-PRERENDERING-HEADOUTLET-BEGIN-%% -->
<title>C# features that Java doesn&#x27;t have - Marina Sundström</title>
<!-- %%-PRERENDERING-HEADOUTLET-END-%% -->
<script src="data:text/javascript;base64,KGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIGY9bi5jcmVhdGVOb2RlSXRlcmF0b3IobiwxMjgpLHIsZSx1O2YubmV4dE5vZGUoKTspaWYocj1mLnJlZmVyZW5jZU5vZGUsdC50ZXN0KHIudGV4dENvbnRlbnQudHJpbSgpKSl7d2hpbGUoaT1yLm5leHRTaWJsaW5nKWlmKGU9aS50ZXh0Q29udGVudC50cmltKCksaS5yZW1vdmUoKSx0LnRlc3QoZSkpYnJlYWs7ci5yZW1vdmUoKTticmVha311PUFycmF5LmZyb20obi5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHQiKSkucG9wKCk7dSYmdS5yZW1vdmUoKX0pKGRvY3VtZW50LC9eJSUtUFJFUkVOREVSSU5HLUhFQURPVVRMRVQtKEJFR0lOfEVORCktJSUkLyk7"></script></head>

<body class="bg-body-tertiary">
    <div id="app" class="h-100">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%"></circle>
            <circle r="40%" cx="50%" cy="50%"></circle>
        </svg>
        <div class="loading-progress-text"></div>
    
<!-- %%-PRERENDERING-BEGIN-%% -->
<div style="opacity: 0; position: fixed; z-index: -1; top: 0; left: 0; bottom: 0; right: 0;">
    <header class="navbar navbar-expand-lg fixed-top navbar-dark bg-brand" b-kujckncdpz><nav class="container px-4 px-md-3 flex-wrap flex-md-nowrap" aria-label="Main navigation" b-kujckncdpz><a href="" class="navbar-brand mr-auto mr-lg-0"><img src="/images/profile.jpeg" alt="Profile Image" class="rounded-circle profile" style="margin-right: 10px; height: 32px; font-weight: 700" b-kujckncdpz>
            Marina Sundström
        </a>
        <button class="navbar-toggler p-0 border-0" type="button" id="navbarSideCollapse" aria-label="Toggle navigation" b-kujckncdpz><span class="navbar-toggler-icon" b-kujckncdpz></span></button>

        <div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault" b-kujckncdpz><ul class="navbar-nav me-auto mb-2 mb-lg-0" b-kujckncdpz><li class="nav-item active" b-kujckncdpz><a href="" class="nav-link">Home</a></li>
                <li class="nav-item active" b-kujckncdpz><a href="/#who-am-i" class="nav-link">About me</a></li>
                <li class="nav-item" b-kujckncdpz><a href="articles" class="nav-link active" aria-current="page">Articles</a></li>
                <li class="nav-item" b-kujckncdpz><a href="resume" class="nav-link">Resumé</a></li>
                <li class="nav-item" b-kujckncdpz><a href="portfolio" class="nav-link">Portfolio</a></li></ul>
            <hr class="d-md-none text-white-50" b-kujckncdpz>
            <ul class="navbar-nav flex-row flex-wrap ms-md-auto" b-kujckncdpz><svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><symbol id="check2" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol>
      <symbol id="circle-half" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol>
      <symbol id="moon-stars-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path>
        <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol>
      <symbol id="sun-fill" viewBox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg>

<li class="nav-item dropdown bd-mode-toggle theme-selector"><a class="nav-link btn-bd-primary py-2 dropdown-toggle d-flex align-items-center opacity-50" id="bd-theme" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)"><svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg>
      <span class="visually-hidden" id="bd-theme-text">Toggle theme</span></a>
  <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text"><li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false"><svg class="bi me-2 opacity-50 theme-icon" width="1em" height="1em"><use href="#sun-fill"></use></svg>
          Light
          <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li>
      <li><button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false"><svg class="bi me-2 opacity-50 theme-icon" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg>
          Dark
          <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li>
      <li><button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true"><svg class="bi me-2 opacity-50 theme-icon" width="1em" height="1em"><use href="#circle-half"></use></svg>
          Auto
          <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg></button></li></ul></li>
                <li class="nav-item list-inline-item" b-kujckncdpz><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://github.com/marinasundstrom" title="GitHub" target="_blank" b-kujckncdpz><i class="fab fa-github" b-kujckncdpz></i></a></li>

                <li class="nav-item list-inline-item" b-kujckncdpz><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://www.youtube.com/channel/UCVdav9wE4kmtiEuk1_vG2_g" target="_blank" b-kujckncdpz><i class="fab fa-youtube" b-kujckncdpz></i></a></li>

                <li class="nav-item list-inline-item" b-kujckncdpz><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://twitter.com/marna_li" title="X" target="_blank" b-kujckncdpz><i class="fab fa-x-twitter" b-kujckncdpz></i></a></li>

                <li class="nav-item list-inline-item" b-kujckncdpz><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://www.linkedin.com/in/marinasundstrom" title="LinkedIn" target="_blank" b-kujckncdpz><i class="fab fa-linkedin" b-kujckncdpz></i></a></li></ul></div></nav></header>

<main class="bg-body pb-5" b-1vlcskuc8v><div class="container" b-1vlcskuc8v><article class="post outer"><div class="inner container"><header b-76by154q0w><div class="mb-4" b-76by154q0w><h1 class="post-title mb-2" b-76by154q0w>C# features that Java doesn&#x27;t have</h1><div class="d-flex justify-content-between mb-4" b-76by154q0w><span b-76by154q0w><small class="mb-2 text-muted" b-76by154q0w><time datetime="2023-04-14" b-76by154q0w>14 Apr 2023</time> • 
                        23 minutes read

</small><small class="text-muted" b-76by154q0w> • </small><a class="badge rounded-pill tag me-1 mb-1 text-decoration-none" href="/articles/tags/.NET" b-76by154q0w>.NET</a><a class="badge rounded-pill tag me-1 mb-1 text-decoration-none" href="/articles/tags/C%23" b-76by154q0w>C#</a></span><div b-76by154q0w><h4 class="badge bg-secondary comment-badge m-0"><span class="disqus-comment-count" data-disqus-url="http://127.0.0.1:5050/articles/csharp-features-java-doesnt-have">#</span></h4></div></div></div></header></div>

            <div class="inner container"><p>In this article I list some of the major features in C# and .NET that have no direct equivalent in Java. Some of the features are just mentioned because they are so essential and cool.</p>
<p>I explain how stuff works and also demonstrate some in C# code.</p>
<p>My goal has been to show some C# specific syntax without highlighting it, like expression-bodied methods and alternative syntax for initializing objects. You will also notice my alternating use of <code>var</code> for type inference.</p>
<p>I'm aware that Kotlin, another Java platform language, has some of these features. So they are not entirely unavailable for Java developers. In fact, Kotlin is the recommended language for the Java Platform by Google.</p>
<p>I hope that both C# and Java developers alike are enjoying this read. :)</p>
<p><em>Don't get mad at me if there are any errors! Some of the code may not have been tested. ;)</em></p>
<p><em>Updated on 8 Nov 2023, with details on equivalent to delegates in Java.</em></p>
<h2 id="contents">Contents</h2>
<ol start="0">
<li><a href="/articles/csharp-features-java-doesnt-have#section-0">What is C# and .NET?</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-1">Entrypoint (Main method)</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-2">Global and Implicit usings</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-3">Reference types vs Value types</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-4">Properties</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-5">Operator overloading</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-6">Delegates</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-7">Extension methods</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-8">LINQ - Language Integrated Query</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-9">Async Await</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-10">Nullable types</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-11">Generics</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-12">Expression Trees</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-13">IQueryable</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-14">Unsafe code &amp; Pointers</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-15">Compiler as a Service</a></li>
<li><a href="/articles/csharp-features-java-doesnt-have#section-16">Unified ecosystem</a></li>
</ol>
<h2 id="section-0">What is C# and .NET</h2>
<p>C# (C Sharp) is a general-purpose imperative object-oriented programming language that debuted in 2001 when the .NET Framework was first released.</p>
<p>Just like C++ is an increment of C, the name C# can be seen as an increment C++. There are four pluses forming a ligature in #. In musical language the # indicates that the written note should be a semitone higher in pitch.</p>
<p>The language initially borrowed a lot of its syntax from Java, which was based on C++. The lead designer <a href="https://sv.wikipedia.org/wiki/Anders_Hejlsberg">Anders Hejlsberg</a> had previously worked on Microsoft's own implementation of Java: J++. But when that endeavour ended he started working on what would become C#. The language was supposed to be like Java for the new .NET Framework. There were influences from Visual Basic. Hejlsberg had earlier been building compilers for Pascal, Object Pascal and Delphi so he incorporated some influences from that.</p>
<p>.NET itself is the software platform on which C# is based. It provides a managed execution environment, the Common Language Runtime (CLR), similar to Java Virtual Machine. Just like the JVM, the CLR executes  bytecode, and provide automatic memory management via a Garbage Collector. .NET has a Just-in-Time (JIT) compiler that compiles bytecode into machine code on the fly.</p>
<p>.NET comes with a class library containing all the basic necessities, for string manipulation, file I/O, networking and threading etc. There is also a big ecosystem of open-source third-party packages on NuGet - the main distribution channel. And of course, there are the app frameworks for building Web, Mobile, and Desktop apps: ASP.NET Core and MAUI. You can also build games with Unity.</p>
<p>Since its inception C# has shown to not be afraid of incorporating new features and ideas with roots in other programming paradigms. Adding extension methods and LINQ added a declarative element that made C# a functional programming language. And more and more features come from that space: recently record types and pattern matching.</p>
<p>Since its open-sourcing back in 2016, .NET and C# has evolved even faster thanks to a vibrant community and ecosystem.</p>
<h3 id="syntax">Syntax</h3>
<p>Core syntax was derived from Java or re-borrowed from C++ to appear and feel familiar to both audiences. From Object Pascal came Properties. Visual Basic influenced with Events used by app frameworks like WinForms.</p>
<p>They added a host of stuff to C# and .NET that they previously added to Microsoft's defunct JVM for J++, such as support for delegates - type-safe method pointers.</p>
<p>.NET APIs follow a CamelCase naming convention. Names in Java mostly start with lower case, except for class names.</p>
<p>C# uses the Allman style indentation, curly braces are placed on separate lines, whereas Java uses ANSI indentation for their curly braces.</p>
<h3 id="samples-style-comparison">Samples: Style comparison</h3>
<p>Here is a style comparison of equivalent code in C# and Java:</p>
<p>C#:</p>
<pre><code class="language-c#">namespace Starfleet;

public class EnterpriseD : IStarship
{
    public void Engage () 
    {
        Console.WriteLine("Warping space");
    }
}
</code></pre>
<ul>
<li>In .NET, the names of interface types are by convention starting with <code>I</code>.</li>
</ul>
<p>Java:</p>
<pre><code class="language-java">package org.starfleet;

public class EnterpriseD implements Starship {
    public void engage () {
        System.out.println("Warping space");
    }
}
</code></pre>
<h2 id="section-1">Entrypoint (Main method)</h2>
<p>Starting writing a program in C# is easy. Just create a .cs file and write some statements, like this:</p>
<pre><code class="language-c#">using System.IO;

var fileContent = File.ReadAllText("test.txt");

Console.WriteLine(fileContent);
</code></pre>
<p>This is possible because C# allows you to define top-level statements in one of your .cs files. This will be the de-facto entry point of the program which is analogous to the traditional Main method in a Program class.</p>
<p>Compared to the traditional way (see below), this removes a lot of boilerplate code (classes, methods, braces) and frees horizontal space. Removing the object-oriented stuff that is not relevant to the entry point.</p>
<p>The simplified syntax cleans up the code, makes it easier to read and understand, and easier for beginners to learn C#. Easier to prototype.</p>
<p>Top-level statements makes a big difference in ASP.NET Core where all the setup code now is significantly reduced.</p>
<h3 id="the-traditional-way">The traditional way</h3>
<p>The traditional Main in a <code>Program.cs</code> would look like this:</p>
<pre><code class="language-c#">using System;

namespace AwesomeApp;

class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Hello, World!");
    }
}
</code></pre>
<p>This is similar to how it looks in Java:</p>
<pre><code class="language-java">package AwesomeApp;

class Program {
    public static void main(String[] args) {
        System.out.println("Hello, World!"); 
    }
}
</code></pre>
<p>The compiler basically looks for a static method named Main when determining what is to become the entrypoint.</p>
<h3 id="did-you-know">Did you know?</h3>
<p>That C# allows for .cs files to contain multiple type declarations and even namespaces. Java does only allow one class, interface or enum per .java file.</p>
<h2 id="section-2">Global <code>using</code> and implicit "usings"</h2>
<p>C# has a feature called <code>global using</code> which allows for using declaration (namespace imports) to be applied globally, to avoid having to add certain usings to every .cs file. Eliminating repetition.</p>
<p>By convention you might have your own <code>Usings.cs</code> that looks like this:</p>
<pre><code class="language-c#">global using SuperThingy;
global using Foo.Bar;
</code></pre>
<p>The contents of the namespaces <code>SuperThingy</code>and <code>Foo.Bar</code> are now in scope in every file in the project.</p>
<h3 id="implicit-usings">Implicit "usings"</h3>
<p>Each SDK (ASP.NET Core etc) may choose to add their own implicit global usings to a project. For instance, a Console project implicitly uses <code>System</code> and a bunch of other commonly used namespaces that were previously being included in every source code file by default when created.</p>
<p>These <code>using</code> are automatically added by the SDK.</p>
<p>Implicit usings are now enabled by default in .csproj for new projects.</p>
<p>Fun fact: Razor syntax has already had global usings for many years. But that did not apply do C#.</p>
<h2 id="section-3">Reference types vs Value types</h2>
<p>In C#, we have values, and objects that are allocated on the heap. Values exist where they are allocated: the stack or with an object. Whether a type results in a value or an object is determined by what kind of type it has.</p>
<p>The stack is a block of memory that exists within the context of the executing method. It contains the data of the local variables: the value data and references to objects. Once the method has returned the stack will be “popped”. The heap is a space of memory that is managed by the garbage collector which also keeps track of the references. An object is a blob of structured data on the heap.</p>
<p>For simplicity's sake, classes and interfaces are reference types, and types that are structs (incl. primitive types) or enums are value types.</p>
<p>For a programer: the distinction between reference type and value type mainly affects how variables (and fields, and properties) behave for each class of type - how their value gets passed around. A variable holding a reference type will actually hold a reference to an object on the heap. As previously stated: Value types exist where they are allocated: on the stack or with an object.</p>
<h3 id="reference-types">Reference types</h3>
<p>Reference types are types that when instantiated result in an object being allocated on the managed heap. Objects are implicitly referred to by object reference, similar to the concept of a pointer but managed by the garbage collector.</p>
<p>The value of the reference type variable is the reference. When assigning from one variable to another the reference to the object gets copied - not the object itself.</p>
<p>A variable with a reference type is nullable - meaning that it can be set to <code>null</code> and thus not refer or point to any object instance. This is a potential source of error in many languages.</p>
<pre><code class="language-c#">StringBuilder sb = new ();
sb.AppendLine("Hello, ")

var sb2 = sb; // Copy object reference.

sb = null; // "sb" is set to null.

sb2.AppendLine("World!");

Console.WriteLine(sb2); // Prints "Hello, World!"

</code></pre>
<p>Once an object is out of references it is marked for deletion and the heap memory is eventually reclaimed by the garbage collector (GC).</p>
<h3 id="value-types">Value types</h3>
<p>Value types are types that when instantiated IS the actual data. The variable holds the data as its value. This means that the value is copied when assigning a variable from another.</p>
<p>When declared as a variable it only exists as long as its enclosing scope or method. Unless the value is declared as a field of an object on the managed heap.</p>
<pre><code class="language-c#">int x = 42;
int y = x; // Copy value of "x" to "y".

Console.WriteLine(y);
</code></pre>
<p>Value types derive from the class <code>System.ValueType</code> which inherits <code>System.Object</code>. That makes them appear like any other object, with methods and properties, but treated as values by the runtime. This makes .NET and C# truly object-oriented.</p>
<pre><code class="language-c#">var maxValue = int.MaxValue; // Static property on System.Int32
</code></pre>
<p>C# has no significant distinction between primitive types and a class representation like in Java (no Integer, Boolean classes etc). So in C# the keyword <code>int</code> simply is an alias for the <code>System.Int32</code> struct.</p>
<pre><code class="language-c#">// Same thing

int x = 42; 
System.Int32 y = 42;
</code></pre>
<p>Since primitive types are recognized as Structs, you can use them as generic type parameters:</p>
<pre><code class="language-c#">List&lt;int&gt; list = new (); // The same as List&lt;System.Int32&gt;
</code></pre>
<h3 id="structs-user-defined-value-types">Structs - User-defined value types</h3>
<p>User-defined value types can be defined as <code>struct</code> (keyword). They are similar to classes but with value semantics due to implicitly inheriting from <code>System.ValueType</code>. So structs are passed by value rather than by reference. And of course, they cannot inherit from other types due to its base class. Though structs can implement interfaces.</p>
<pre><code class="language-c#">public struct Test 
{
    public int X { get; set; };
}

Test test; // Same as below
Test test = new Test();
</code></pre>
<p>A value is allocated once the variable has been declared. No need to explicitly call a constructor for that. It has a default constructor that is always being called. But you can define your own constructors.</p>
<p>There is so much more to structs that doesn't fit into this article. But I thought they were worth mentioning.</p>
<h3 id="history-fact-boxing">History fact: Boxing</h3>
<p>Before generics, the type Object was heavily used by collection classes since there were no type parameters. Every collection type had to store and retrieve any item from an array of Object (<code>object[]</code>) - then the programmer had to cast the object into the appropriate type. And if an item was of a value type that implied boxing and unboxing them on the managed heap. This had big implications on how you wrote code when dealing with complex value types such as structs. You could not just change a property of a struct in a list since you had to unbox the value and thus copy it to the stack.</p>
<p>However, this is not something that programmers have to deal with today. Writing this article just reminded me about this fact.</p>
<h2 id="section-4">Properties</h2>
<p>Properties are constructs that guard access to a type's fields and that may have logic tied to its accessors.</p>
<p>C# has properties that syntactically appear as they were fields:</p>
<pre><code class="language-c#">string str = "Test";
int len = str.Length;
</code></pre>
<p>A C# property consists of one or two accessors: one for getting the property, and another for setting the property.</p>
<pre><code class="language-c#">public class Foo 
{
    string _name;

    public Foo(string name) 
    {
        Name = name;
    }

    public string Name 
    {
        get =&gt; __name; // Expression-bodied method
        
        private set 
        {
            // TODO: Perhaps perform some validation

            _name = value;
        } 
    }

    public void ChangeName(string name) 
    {
        // Can only set Name from within the class itself due to it being private.

        Name = name;
    }
}
</code></pre>
<pre><code class="language-c#">Foo foo = new ("Bar");
foo.ChangeName("Joe");

Console.WriteLine(foo.Name);

foo.Name = "Bob"; // You don't have access to the setter.
</code></pre>
<p>Java has no special syntax for properties. Properties in Java is a method naming convention using "Get" and "Set" as prefixes. Otherwise, they are normal methods to be called as such.</p>
<p>Beware! There are places in the .NET frameworks where you see methods like <code>int GetFoo()</code> and <code>void SetFoo(int value)</code>. But .NET properties are preferred.</p>
<p>Under the hood, .NET properties are methods, just that they are represented in a specific way.</p>
<h3 id="auto-implemented-properties">Auto-implemented properties</h3>
<p>Auto-implemented properties allows you to define data properties with implicit backing fields without having to implement the accessors yourself.</p>
<pre><code class="language-c#">public class Foo 
{
    public Foo(string name) 
    {
        Name = name;
    }

    public string Name { get; private set; }
}
</code></pre>
<h2 id="section-5">Operator overloading</h2>
<p>C# allows you to overload an entire host of operators on your classes and structs. Making your code much more expressive with custom equality semantics. This feature is also useful when implementing your own algebraic types.</p>
<p>Operator overloads come in two variants implicit and explicit (eg. <code>(int)x</code>) cast operators and overloading binary arithmetic and comparison operators.</p>
<h3 id="overloading-binary-operators">Overloading binary operators</h3>
<p>Binary operators require you to overload pairs (+ and -, == and != etc). When overloading equality and comparison operators it is recommended that you overload the <code>Equals</code> method inherited from <code>Object</code>.</p>
<pre><code class="language-c#">public sealed class Foo
{
    public Foo(int value) 
    {
        Value = value;
    }

    public int Value { get; private set; }

    public static Foo operator + (Foo lhs, Foo rhs) 
    {
        return new Foo(lhs.Value + rhs.Value);
    }

    public static Foo operator - (Foo lhs, Foo rhs) 
    {
        return new Foo(lhs.Value - rhs.Value);
    }
}

Foo foo1 = new (2)
Foo foo2 = new (3)

var result = foo1 + foo2; // result.Value == 5
</code></pre>
<h3 id="casting-operators">Casting operators</h3>
<p>Casting operators allow you to define static methods that cast objects either implicitly by assigning or explicitly with the cast operator syntax.</p>
<h4 id="implicit-cast-by-assigning-to-variable-of-target-type">Implicit cast by assigning to variable of target type</h4>
<pre><code class="language-c#">public class Foo1 
{
    public static implicit operator Foo2(Foo1 foo) =&gt; new Foo2(foo.Value);
}

Foo1 foo1 = new ();
Foo2 foo2 = foo1;
</code></pre>
<h4 id="explicit-cast-operator">Explicit cast operator</h4>
<pre><code class="language-c#">public class Foo2
{
    public static explicit operator Foo1(Foo2 foo) =&gt; new Foo1(foo.Value);
}

Foo2 foo2 = new ();
Foo1 foo1 = (Foo1)foo2;
</code></pre>
<p>Java has no operator overloading. For instance, C# records overload the equality operator to compare by value, but Java records are comparing references with <code>==</code> and <code>!=</code> operators, which is the default behavior of ```Object``.</p>
<p>Kotlin support operator overloading.</p>
<h2 id="section-6">Delegates</h2>
<p>Delegates are type-safe method pointers that hold reference to one of more methods. These references can be invoked through the delegate instance.</p>
<p>Delegates allow you to pass method references as arguments to functions, enabling functional programming patterns.</p>
<p>A delegate has a signature and is type-safe. Meaning that you can not cast between other delegates even if they have a similar signature. Of course, they can take generic type parameters as well.</p>
<p>.NET delegates are runtime concepts.</p>
<pre><code class="language-c#">delegate int ArithmeticOperation(int lhs, int rhs);
</code></pre>
<pre><code class="language-c#">int DoOperation(ArithmeticOperation operation, int lhs, int rhs) 
{
    // Invoking delegate with parameters

    return operation(lhs, rhs);
}
</code></pre>
<pre><code class="language-c#">// Assigning lambda to delegate. Also works with methods.
ArithmeticOperation op = (lhs, rhs) =&gt; lhs + rhs;

var result = DoOperation(op, 2, 3);

Console.WriteLine(result); //5
</code></pre>
<p>There are common pre-defined delegate types in .NET that suit most purposes.
The common ones are: <code>Action&lt;T&gt;</code> and <code>Func&lt;T, R&gt;</code> with various overloads taking different number of arguments.</p>
<pre><code class="language-c#">void Test(Func&lt;int, bool&gt; f) 
{
    Console.WriteLine(f(5));
}

Test((x) =&gt; x == 2);
</code></pre>
<p>Java uses interfaces to pass method references around. Where a method is passed you see an interface, that you implement in either a regular class, or inline in an anonymous class.</p>
<pre><code class="language-java">int count = 1;
Runnable action = new Runnable() {
    @Override
    public void run() {
        System.out.println("Runnable with captured variables: " + count);
    }           
};
</code></pre>
<p>Thanks, to <a href="https://www.baeldung.com/java-anonymous-classes">Baeldung</a> for this sample.</p>
<p><code>Runnable</code> being an interface that is being implemented anonymously, and then object passed into the method</p>
<p>A lambda expression in Java is syntactic sugar for a method in a hidden generated anonymous class, implementing an interface, that has a single method representing the lambda function.</p>
<p>Here's a sample from <a href="https://www.w3schools.com/java/java_lambda.asp">W3 Schools</a>:</p>
<pre><code class="language-java">interface StringFunction {
  String run(String str);
}

public class Main {
  public static void main(String[] args) {
    StringFunction exclaim = (s) -&gt; s + "!";
    StringFunction ask = (s) -&gt; s + "?";
    printFormatted("Hello", exclaim);
    printFormatted("Hello", ask);
  }
  public static void printFormatted(String str, StringFunction format) {
    String result = format.run(str);
    System.out.println(result);
  }
}
</code></pre>
<p>The end result is similar to .NET, but without delegates. It captures variables as fields in a hidden compiler-generated class containing the actual method.</p>
<h3 id="events">Events</h3>
<p>Delegates are used for Events in .NET - which are to delegates what properties are to fields. They restrict access to a delegate instance. Events are commonly used by UI frameworks like Windows Forms and WPF.</p>
<p>This sample shows an auto-implemented event. Though you could implement the <code>add</code> and <code>remove</code> accessors yourself.</p>
<pre><code class="language-c#">public class Car 
{
    public event EventHandler Started;

    public void Start() 
    {
        Started?.Invoke(this, EventArgs.Empty); 
        
        // the ? means: call "Invoke" only if Started is not null.
    }
}

var car = new Car();
car.Started += (sender, args) =&gt; Console.WriteLine("Car started");

Console.WriteLine("Starting car...");
car.Start();
</code></pre>
<p>.NET Events make sure that only the declaring type can raise an event to execute event handlers. This restriction doesn't apply to plain delegates which can be invoked everywhere.</p>
<p>The common event delegate types are <code>EventHandler</code> and <code>EventHandler&lt;T&gt;</code> (where <code>T</code> is constrained to <code>EventArgs</code>).</p>
<p>Java has no delegates or specific language constructs for events. As shown in previous section, it instead uses interfaces and anonymous classes to implement lambda expressions to enable the event-listener pattern.</p>
<p>Here's an example from a GUI library:</p>
<pre><code class="language-java">button.addActionListener(new ActionListener() {
    public void actionPerformed(ActionEvent e) {
        ...
    }
}
</code></pre>
<h3 id="did-you-know-1">Did you know?</h3>
<p>Delegates have been part of .NET since version 1.0.</p>
<p>Delegates can represent both static methods and instance methods. And you can retrieve information about both the method and the target object.</p>
<pre><code class="language-c#">Action action = () =&gt; Console.WriteLine("Foo");

MethodInfo methodInfo = action.Method;
</code></pre>
<p>That means that even if the method is a lambda you can still query that for information like about its parameters och whether the lambda has any attributes.</p>
<h2 id="section-7">Extension methods</h2>
<p>Methods that get attached to existing types (classes, structs, interface, enums etc) as they were instance methods - hence extension methods.</p>
<p>They are in fact static methods that just appear differently to us and the compiler. So they don't have access to any private or protected members of the types that they extend.</p>
<p>LINQ is built on extension methods for extending <code>IEnumerable&lt;T&gt;</code> with query operators.</p>
<pre><code class="language-c#">public class Foo 
{
    public int X { get; set; }
}

public static class SomeExtensions
{
    public static void Add(this Foo source, int value) =&gt; source.Value += value;
}
</code></pre>
<pre><code class="language-c#">Foo foo = new () { X = 40 };
foo.Add(2); // Appears like it were a member of Foo or a parent class.

Console.WriteLine(foo.X); // 42
</code></pre>
<p>Java has no extension methods.</p>
<h2 id="section-8">LINQ - Language Integrated Query</h2>
<p>The ability to perform queries on all collection types across the framework. Query any collection with any object type.</p>
<p>LINQ extension methods to add query operators on collection types that implement <code>IEnumerable&lt;T&gt;</code>. Operators may take delegates as predicates for filtering (Where) or for projecting into new form (Select).</p>
<pre><code class="language-c#">int[] array = new [] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };

var evenNumbers = array.Where(x =&gt; x % 2 == 0);

foreach(var no in evenNumbers) 
{
    Console.WriteLine(no);
}
</code></pre>
<p>Most operators are chainable and resulting in a object representing the query that implements <code>IEnumerable&lt;T&gt;</code>. This is how they chain together.</p>
<p>Conceptually, <code>Where</code> looks like this when reimplemented:</p>
<pre><code class="language-c#">public static class Enumerable 
{
    public static IEnumerable&lt;T&gt; Where(this IEnumerable&lt;T&gt; source, Func&lt;T, bool&gt; predicate) 
    {
        foreach (var item in source) 
        {
            if (predicate(item))
            {
                yield return item;
            }
        }
    }
}
</code></pre>
<p>This method extends <code>IEnumerable&lt;T&gt;</code> regardless of parameter type, which will be inferred by the compiler based on parameter <code>source</code>. The <code>yield return</code> in a method returning <code>IEnumerable&lt;T&gt;</code> means that it is a generator.</p>
<p>An enumerable utilizes deferred execution. The resulting the Enumerator object represents a query that is evaluated only when iterated over by a <code>foreach</code> or when <code>ToArray()</code> or <code>ToList()</code> or equivalent is being called.</p>
<pre><code class="language-c#">var persons = new Person[] {
    new ("John", "Smith", 35),
    new ("Jane", "Doe", 23)
};

var q = persons
    .Where(p =&gt; p.LastName == "Smith")
    .Where(p =&gt; p.Age &gt; 35);

foreach(var p in q) 
{
    Console.WriteLine(p.FirstName);
}

// Return results in array

var result = q.ToArray();

// Project Name with "Select"

foreach(var fullName in q.Select(x =&gt; x.FullName)) 
{
    Console.WriteLine($"FullName is: {fullName}");
}

record Person(string FirstName, string LastName, int Age) 
{
    public string FullName =&gt; $"{FirstName} {LastName}";
};
</code></pre>
<p>Java has no extension methods, though Kotlin has them. Instead, Java provides similar functionality to LINQ using "Streams" and by collections extending the <code>Stream&lt;T&gt;</code> interface and the <code>stream()</code>method.</p>
<p>In C#, Streams are something different. They are about a group of primitives involved in reading buffers of data, like a <code>FileStream</code>, deriving from the <code>Stream</code>class.</p>
<h2 id="section-9">Async Await</h2>
<p>.NET has a Task-based model for asynchronous operations. It is similar to promises in JavaScript and Futures in other languages.</p>
<p>An asynchronous method returns a Task which signals to the caller when the operation is completed or have failed, resulting in an exception. The API provides methods for specifying callbacks for continuations that handle the Task.</p>
<h3 id="await-statement"><code>await</code> statement</h3>
<p>C# provides provides syntax that simplifies the consumption of Tasks. The <code>await</code> statement lets you await tasks and in that way deal with asynchronous code as it were synchronous.</p>
<p>Await statements can only occur within methods marked with the <code>async</code> modifier, unless it is at top-level.</p>
<pre><code class="language-c#">async Task DownloadPage() 
{
    HttpClient httpClient = new ();

    try 
    {
        Console.WriteLine("Downloading");

        var str = await httpClient.GetStringAsync("http://test.com");

        Console.WriteLine("Downloaded");

        await File.WriteAllTextAsync("page.html", str);

        Console.WriteLine("Saved");

        return true;
    }
    catch (HttpRequestException e) 
    {
        Console.WriteLine(e);

        return false;
    }
}

var result = await DownloadPage();
</code></pre>
<p>Under the hood the compiler effectively splits the method at each <code>await</code> statement, and creates another method for the rest which acts as a continuation when the task has completed. There is state machine which handles the transitions between various states and surfaces exceptions.</p>
<p>Java doesn't have a native <code>await</code> feature similar to the one in C#. Though there is a <code>Future</code> type, analogous to a <code>Task</code> in .NET.</p>
<p>Kotlin has coroutines, but no equivalent syntax.</p>
<p>Java 21 is introducing lightweight <em>virtual threads</em>, which are threads that the JVM will create and manage - not the operating system. Eliminating the need for writing asynchronous code, since the JVM handles that for you.</p>
<h3 id="did-you-know-2">Did you know?</h3>
<p>Before the Task-based asynchronous model, there was a couple of other models for dealing with asynchronous code. One of them was based on .NET events that you had to handle. But that lacked the scheduling and thread synchronization part that the Task-based model now provides.</p>
<p>You can turn event-based asynchronous APIs into Tasks using the TaskCompletionSource - which is the factory-part to a Task.</p>
<p>The F# functional language (another .NET language) had tasks before they were standardized in .NET and introduced in C#</p>
<h2 id="section-10">Nullable types</h2>
<p>C# has syntax for declaring types as explicitly "nullable" - that they can be assigned the value <code>null</code>. (<code>int?</code>, <code>string?</code>, <code>Foo?</code>). And the compiler is quite smart in telling you whether some variable in a code path is unexpectedly null.</p>
<pre><code class="language-c#">int? x = null;
Foo? foo = null;
</code></pre>
<p>Although the syntax is universal, nullable types behave differently for value types and reference types respectively.</p>
<h3 id="nullable-value-types">Nullable value types</h3>
<p>Value types that are declared as nullable get implicitly "wrapped" by a <code>Nullable&lt;T&gt;</code> value type. But they will not behave like reference types, of course.</p>
<pre><code class="language-c#">int x = null; // Not allowed: int x = null;
int? x = null; // System.Nullable&lt;int&gt; x = null;
</code></pre>
<p>And <code>Nullable&lt;T&gt;</code> has a very useful method:</p>
<pre><code class="language-c#">bool? x = true;
var v = x.GetValueOrDefault(); // Returns true

bool? y = null;
var v2 = y.GetValueOrDefault(); // Returns false
</code></pre>
<p>That is a pretty useful three-state switch. Some UI Dialog APIs return a value of type <code>bool?</code> with <code>null</code> indicating that the user did not explicitly press "Yes" or "No". Like for "Cancel".</p>
<h3 id="nullable-reference-types">Nullable reference types</h3>
<p>Reference types have always been nullable by default. The added syntax and nullability checks are pure compile-time analysis so that it preserves compatibility with older versions of the runtime and code. It is also opt-in via csproj.</p>
<pre><code class="language-c#">Foo foo = null; // Warns
Foo? foo = null; // Allowed
</code></pre>
<p>You can override the nullability checks by putting ! after an expression that might be null but assigned to a variable with a non-nullable reference type.</p>
<pre><code class="language-c#">Foo foo = null!; // Allowed - since you told the compiler to ignore the warning with !
</code></pre>
<p>Java has no nullability syntax. Though they have an <code>Option</code> type. Kotlin has similar syntax to that of C# and other languages.</p>
<p>Java has a <code>java.utils.Optional&lt;T&gt;</code> type, which is similar to what <code>Nullable&lt;T&gt;</code> is for C#. It wraps any Java class type. But there is not special syntax with it.</p>
<h3 id="why-nullable-works-as-it-does">Why "nullable" works as it does</h3>
<p>So why is nullability so different for reference types and for value types? Simply: Due to introducing the semantic distinction in the first place.</p>
<p>Reference types have always been implicitly nullable (without the ? syntax). It is something that is built into the runtime. You just had to know whether something was a class and realize that it could be null and had to be handled. Value types have always had a default value and thus they did not require initialization with <code>new</code> either.</p>
<p>Nullable value types were added in .NET Framework 2.0 and C# 2.0 (together with generics) for a specific reason. The purpose was to be able to map primitive types in C# to nullable columns in databases. In order to not break anything existing, they added this <code>Nullable&lt;T&gt;</code> wrapper type. C# also introduced the nullability marker <code>?</code> (<code>int?</code>). This of course, caused asymmetry in syntax indicating nullability.</p>
<p>In C# 10, nullable reference types was added. Making it possible to explicitly state when a variable can be <code>null</code> also for reference types using the same <code>?</code> nullable marker. In order to not break existing code and behavior, this feature was primarily implemented in the compiler, not in the runtime. Nullable is an opt-in feature that is enabled by default in new projects. But any nullability issue is treated as a warning and not an error, unless you tell the compiler to.</p>
<p>How C# deals with nullable reference types has been greatly influenced by TypeScript, another Microsoft-product. Applying the knowledge from doing control flow analysis on TypeScript/JavaScript code.</p>
<h2 id="section-11">Generics</h2>
<p>.NET has runtime support for generics - also known as Reified generics. That means that the Common Language Runtime (CLR) is aware of an instantiated "closed generic type" and its type parameters. So it can make runtime optimizations depending on whether the parameterized types are value types or reference types.</p>
<p>The program can also query the types at runtime using Reflection to see what generic arguments an object has been instantiated with.</p>
<pre><code class="language-c#">var list = new List&lt;string&gt;();
var genericArg = list.GetType().GetGenericArguments()[0];

Console.WriteLine(genericArg.Name); // Int32
</code></pre>
<p>By contrast, Java generics is built on "type erasure". Parameterized types are only known and enforced at compile-time and effectively erased - replaced by <code>Object</code> - when the code is compiled. So parameter types can not be retrieved at runtime. The JVM doesn't know about the instantiated generic type and its arguments.</p>
<p>In, Java also you can not pass primitive types (int, bool) as parameters, and they instead have to be wrapped by their respective wrappers class (Integer, Boolean etc).</p>
<p>In C#, you don't have to wrap a primitive type in a class in order to pass it as a generic type parameter. Primitive types are fully integrated into the language and runtime with corresponding value types (<code>int</code> for <code>System.Int32</code>, <code>bool</code>for <code>System.Boolean</code> etc).</p>
<p>The .NET way of generics allow for more expressiveness and flexibility. You don't have to pass around a Type object and there are no semi-implicit casts like in Java. It is predictable and powerful.</p>
<p>We can get the runtime type parameter from inside the method or type that takes that parameter, like so:</p>
<pre><code class="language-c#">static void WhatsTheType&lt;T&gt;() 
{
    var paramType = typeof(T); // System.Type

    Console.WriteLine(paramType.Name);
}

WhatsTheType&lt;int&gt;(); // Prints "Int32"
WhatsTheType&lt;Foo&gt;(); // Prints "Foo"
</code></pre>
<p>It is impossible to express it this simple in Java, because of type erasure. The closest thing is:</p>
<pre><code class="language-java">static &lt;T&gt; void WhatsTheType(Class&lt;T&gt; cls) 
{
    System.out.println(cls.getSimpleName());
}

WhatsTheType(Integer.class); // Prints "Integer"
WhatsTheType(Foo.class); // Prints "Foo"
</code></pre>
<p>As you can see, the parameter itself doesn't participate in retrieving the actual <code>Class&lt;T&gt;</code>.</p>
<p>In .NET, generic type parameters are widely used by dependency injection frameworks for when to resolve type instances.</p>
<p>A sample using <code>Microsoft.Extensions.DependencyInjection</code>:</p>
<pre><code class="language-java">ServiceCollection services = new ();
services.AddScoped&lt;ICar, Volvo&gt;();

var serviceProvider = services.BuildServiceProvider();
var car = serviceProvider.GetService&lt;ICar&gt;();
</code></pre>
<h3 id="did-you-know-3">Did you know?</h3>
<p>Generics in .NET was designed by <a href="https://en.wikipedia.org/wiki/Don_Syme">Don Syme</a> at Microsoft Research in Cambridge, who later created the <a href="https://en.wikipedia.org/wiki/F_Sharp_(programming_language)">F#</a> functional programming language, which was based on OCaml. Generics in .NET was important to the development of F#.</p>
<p>The current lead designer for C#, <a href="https://www.linkedin.com/in/madst/">Mads Torgersen</a> was involved in Java when they developed their version of generics.</p>
<h2 id="section-12">Expression Trees</h2>
<p>An expression trees is code that is being represented as an Abstract Tree at runtime.</p>
<p>In their simplest form they are useful for when to represent and analyze code in an abstract sense. Expression trees do not map to C# syntax, but represent generalized programming structures in .NET.</p>
<p>This feature is baked into .NET and supported at compiler-level in C#. There is no equivalent in Java.</p>
<p>You can either construct an expression yourself in code, or write normal C# in a lambda that the compiler turns it into an expression tree that can traversed by code.</p>
<p>Dynamically building an expression tree in code:</p>
<pre><code class="language-c#">// The expression tree to execute.
BinaryExpression be = Expression.Power(Expression.Constant(2d), Expression.Constant(3d));

// Create a lambda expression.
Expression&lt;Func&lt;double&gt;&gt; le = Expression.Lambda&lt;Func&lt;double&gt;&gt;(be);
</code></pre>
<p>The expression tree can be modified, compiled into bytecode and executed at runtime. Here is an example of a lambda that the compiler turns into an expression tree to then be dynamically compiled and invoked:</p>
<pre><code class="language-c#">using System.Linq.Expressions;

Expression&lt;Func&lt;int, bool&gt;&gt; expr = (arg) =&gt; arg == 2;

// Compile the lambda expression.
Func&lt;int, bool&gt; compiledExpression = expr.Compile();

// Execute the lambda expression.
bool result = compiledExpression(3);
</code></pre>
<p>The code is dynamically compiled to bytecode at runtime using the <code>System.Reflection.Emit</code> API under the hood. Ready for the JIT to compile and execute, as demonstrated.</p>
<p>IQueryable depends of expression trees for representing predicates that get translated into queries.</p>
<h3 id="did-you-know-4">Did you know?</h3>
<p>Before Expression Trees, or even Roslyn (see below), the only standardized way to analyze code was with the CodeDOM APIs. Similar to Expression Trees, it had an abstract syntax tree, the Code Document Object Model (DOM). A term familiar to those who know about the Web and HTML. The API acted on source code, both C# and Visual Basic.NET, and usually lagged behind the current language version in what features it supported.</p>
<h2 id="section-13">IQueryable</h2>
<p>IQueryable is an interface that enables querying for data against a specific data source. It is used in a way that is similar to IEnumerable but stores its query expressions as expression trees instead of delegates to methods.</p>
<p>IQueryable is what enables using the LINQ query syntax in Entity Framework.</p>
<p>The execution of an IQueryable is dependant on a provider - for instance, the SQL provider in Entity Framework Core (EF Core). EF Core traverses the query (IQueryable), traverses their expression trees, and generates a command to be sent to the database. It then gets a result that it materializes as .NET objects.</p>
<p>This is what consuming an IQueryable from Entity Framework Core would look like:</p>
<pre><code class="language-c#">using var todoContext = new TodoContext();

var completedTodos = await todoContext.Todos
    .Where(todo =&gt; todo.Status == TodoStatus.Completed) //IQueryable&lt;Todo&gt;
    .ToArrayAsync();
</code></pre>
<p>For every ordinary LINQ operator there is an equivalent LINQ operation. Which one is supported depends on the provider.</p>
<p>There is not equivalent to IQueryable in Java.</p>
<h2 id="section-14">Unsafe code &amp; Pointers</h2>
<p>C# has C/C++-like pointer support within unsafe context. It allows for managing memory and doing low-level interop with native unmanaged code.</p>
<p>"Managed code" is code that is managed by the CLR - C# code that has been turned into bytecode and JIT:ed. "Unmanaged code" is what runs outside the CLR, in the operating system - a.k.a. native code.</p>
<pre><code class="language-C#">unsafe
{
    int length = 3;
    int* numbers = stackalloc int[length];
    for (var i = 0; i &lt; length; i++)
    {
        numbers[i] = i;
    }
}
</code></pre>
<p>There is a class called <code>NativeMemory</code> which allows you to allocate native memory:</p>
<pre><code class="language-c#">using System.Runtime.InteropServices;

unsafe
{
    int* mem = (int*)NativeMemory.Alloc(sizeof(int));

    // Do something
    *mem = 42; 

    Console.WriteLine($"The value is: {*mem}");

    NativeMemory.Free(mem);
}
</code></pre>
<p>You also have to declare that you are using unsafe code in the csproj file.</p>
<p>There is a safe managed pointer API (the <code>System.IntPtr</code> struct) that doesn't require you to enable an unsafe context and to use unsafe pointers in a lot of cases, for instance when doing PInvoke to native code.</p>
<p>Native pointers do not exist in Java.</p>
<h2 id="section-16">Compiler as a Service (Roslyn compiler framework)</h2>
<p>C# is built on the Roslyn compiler framework which has a modern compiler architecture that is providing the the compiler as a service. That means that the developer can integrate into the compiler to build tools that analyze and modify source code. The compiler gives you the APIs to access the Abstract Syntax Tree (AST) or the semantic information that you want.</p>
<p>Common ways of integrating with the C# compiler is by writing extensions such as Code Analyzers, Code Fixes, or Source Generators that then integrate with IDEs like Visual Studio and Rider. Analyzers are portable and can be distributed as NuGet packages. Even run in the .NET CLI.</p>
<p>Code Analyzers and Code Fixes are stuff that usually show up in your IDE as perhaps Warnings, Errors, or Suggestion. A fix is a solution to the analysis.</p>
<p>Source Generators allow you enhance code by generating code-behind based on some logic. It is being used by many serializers and object mapping libraries to generate code and to avoid using Reflection. There are also other cases when they help generate boilerplate code for you, like with the MVVM patterns.</p>
<p>The Roslyn C# compiler is open-source and itself built with C#. So fully bootstrapped.</p>
<h2 id="unified-ecosystem">Unified ecosystem</h2>
<p>.NET easily has the most complete Software Development Kit (SDK) with support for multiple platforms and operating systems.</p>
<p>The SDK has its own CLI tools for creating, building and running apps.</p>
<p>Simply write <code>dotnet new console</code> to create a console app.
And <code>dotnet run</code> to run it.</p>
<p>The is a unified project and build system based on the MSBuild tool chain - with the .csproj file. So unlike Java, there is no need to choose between Maven or something else. Of course, you can always use Cake if you want to script your build process in C#.</p>
<p>Package management is almost exclusively through NuGet. Support is built into the SDK tooling and Csproj. There are alternative packet managers that are specialized, like for F#. These do connect to NuGet as well.</p>
<p>There are multiple app frameworks, the popular ones by Microsoft and open-source. ASP.NET Core is the most popular web app framework. Many features in C# and .NET can be tied to what they are doing there.</p>
<p>There is a vibrant .NET Community. People who love .NET and to code and share knowledge and help each other - both beginners and experienced programmers.</p>
<p>Since there are so many frameworks, libraries, and applications of C# and .NET, you never stop learning new stuff. There are endless possibilities.</p>
<h2 id="what-did-microsoft-do-right-with.net-as-a-platform">What did Microsoft do right with .NET as a platform?</h2>
<p>Compared to Java, .NET Framework was open-sourced quite late. That most likely contributed to its success. Microsoft had kept .NET under control while a community had been growing, with the Mono open-source community being one of them. They put much effort into building great APIs and frameworks that developers loved.</p>
<p>When Microsoft fully open-sourced .NET in 2016, they had already earned experience in open-sourcing parts of the stack. The community had slowly been prepared for the change and Microsoft had in that way built up trust with its users and customers.</p>
<p>And since they started quite fresh with .NET Core they had the opportunity to experiment and to find the best way forward according to feedback and with contributions from the community.</p>
<p>Some would also point out that a lot of the success of .NET is due to third party technologies like the Unity game engine. So we should not forget that one :)</p>
<div style="margin-top: 42px;"><div id="disqus_thread"></div></div></div></article></div></main>

<footer class="footer py-4 bg-body-tertiary"><div class="container py-4 py-md-5 px-4 px-md-3 text-body-secondary"><div class="row"><div class="col-lg-3 mb-3"><h4>Marina Sundström</h4>
                <ul class="list-unstyled small text-muted"><li class="mb-2">
                        A personal website and blog about life and software development
                    </li>
                    <li class="mb-2">
                        Code provided with no warranty
                    </li></ul></div>
            <div class="col-6 col-lg-2 offset-lg-1 mb-3"><h5>This site</h5>
                <ul class="list-unstyled menu"><li class="mb-2"><a href="/about-me">About me</a></li>
                    <li class="mb-2"><a href="/articles">Articles</a></li>
                    <li class="mb-2"><a href="/portflio">Portfolio</a></li></ul></div>
            <div class="col-6 mb-3"><h5>Social</h5>
                <ul class="list-unstyled"><li class="nav-item list-inline-item"><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://github.com/marinasundstrom" title="GitHub" target="_blank"><i class="fab fa-2x fa-github"></i></a></li>

                    <li class="nav-item list-inline-item"><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://www.youtube.com/channel/UCVdav9wE4kmtiEuk1_vG2_g" target="_blank"><i class="fab fa-2x fa-youtube"></i></a></li>

                    <li class="nav-item list-inline-item"><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://twitter.com/marna_li" title="X" target="_blank"><i class="fab fa-2x fa-x-twitter"></i></a></li>

                    <li class="nav-item list-inline-item"><a class="nav-link menu-link me-0 py-2 text-decoration-none text-uppercase" href="https://www.linkedin.com/in/marinasundstrom" title="LinkedIn" target="_blank"><i class="fab fa-2x fa-linkedin"></i></a></li></ul></div></div>
        <div class="mt-4"><p class="float-end mb-1"><a id="scrollToTop" href="#" __internal_preventDefault_onclick>Back to top</a></p>
            <p class="muted small mb-1">© 2023 Marina Sundström | Built with .NET & Blazor - Hosted by GitHub Pages</p></div></div></footer>
        



</div>
<!-- %%-PRERENDERING-END-%% -->
</div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">🗙</a>
    </div>

    <script src="js/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="js/bootstrap/color-modes.js"></script>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="js/app.js"></script>
    <script src="_content/Blazor-Analytics/blazor-analytics.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  


</body></html>